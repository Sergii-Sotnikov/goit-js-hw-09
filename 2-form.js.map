{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = { \n    email: \"\",\n     message: \"\", \n};\n\nconst STORAGE_KEY = \"feedback-form-state\";\n\nconst formElem = document.querySelector(\".feedback-form\");\npopulateForm()\n\n\nformElem.addEventListener(\"submit\", handleFormSubmit);\nformElem.addEventListener(\"input\", handleFormInput);\n\n\nfunction handleFormSubmit(event){\n    event.preventDefault();\n    if (formData.email.trim() === \"\" || formData.message.trim() === \"\") {\n        alert(\"Fill please all fields\");\n        return;\n      }\n    console.log(formData);\n    localStorage.removeItem(STORAGE_KEY);\n    formElem.reset();\n}\n\n\nfunction handleFormInput(event){\n    formData = {\n        email: event.currentTarget.email.value,\n        message: event.currentTarget.message.value,\n    };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction populateForm(){\n    const savedLSData = localStorage.getItem(STORAGE_KEY);\n    if(!savedLSData){\n        return\n    }\n    try{\n        const DataFromLS = JSON.parse(savedLSData);\n        // formElem.email.value = DataFromLS.email;\n        // formElem.message.value = DataFromLS.email;\n        const formObj = new FormData(formElem)\n        const formFields = Array.from(formObj.keys())\n        formFields.forEach(field => {\n            formElem.elements[field].value = DataFromLS[field];\n        });\n    } catch{\n        alert('ERROR');\n    }\n}\n\n\n"],"names":["formData","STORAGE_KEY","formElem","populateForm","handleFormSubmit","handleFormInput","event","savedLSData","DataFromLS","formObj","field"],"mappings":"wFAAA,IAAIA,EAAW,CACX,MAAO,GACN,QAAS,EACd,EAEA,MAAMC,EAAc,sBAEdC,EAAW,SAAS,cAAc,gBAAgB,EACxDC,EAAc,EAGdD,EAAS,iBAAiB,SAAUE,CAAgB,EACpDF,EAAS,iBAAiB,QAASG,CAAe,EAGlD,SAASD,EAAiBE,EAAM,CAE5B,GADAA,EAAM,eAAc,EAChBN,EAAS,MAAM,SAAW,IAAMA,EAAS,QAAQ,KAAM,IAAK,GAAI,CAChE,MAAM,wBAAwB,EAC9B,MACD,CACH,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWC,CAAW,EACnCC,EAAS,MAAK,CAClB,CAGA,SAASG,EAAgBC,EAAM,CAC3BN,EAAW,CACP,MAAOM,EAAM,cAAc,MAAM,MACjC,QAASA,EAAM,cAAc,QAAQ,KAC7C,EACI,aAAa,QAAQL,EAAa,KAAK,UAAUD,CAAQ,CAAC,CAC9D,CAEA,SAASG,GAAc,CACnB,MAAMI,EAAc,aAAa,QAAQN,CAAW,EACpD,GAAIM,EAGJ,GAAG,CACC,MAAMC,EAAa,KAAK,MAAMD,CAAW,EAGnCE,EAAU,IAAI,SAASP,CAAQ,EAClB,MAAM,KAAKO,EAAQ,KAAI,CAAE,EACjC,QAAQC,GAAS,CACxBR,EAAS,SAASQ,CAAK,EAAE,MAAQF,EAAWE,CAAK,CAC7D,CAAS,CACT,MAAW,CACH,MAAM,OAAO,CAChB,CACL"}